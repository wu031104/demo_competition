{% extends "new_layout_2.html" %}
{% load static %}
{% block css %}

    <link href="../static/css/bootstrap.min.css?v=3.4.0" rel="stylesheet">
    <link href="../static/font-awesome/css/font-awesome.css?v=4.3.0" rel="stylesheet">

    <!-- Morris -->
    <link href="../static/css/plugins/morris/morris-0.4.3.min.css" rel="stylesheet">

    <link href="../static/css/animate.css" rel="stylesheet">
    <link href="../static/css/style.css?v=2.2.0" rel="stylesheet">

    <!-- Data Tables -->
    <link href="../static/css/plugins/dataTables/dataTables.bootstrap.css" rel="stylesheet">

{% endblock %}
{% block content %}

    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-sm-4">
            <h2>情感分析</h2>
        </div>
    </div>
    <div class="col-lg-12">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>各类型话题——热度展示</h5>
                <div class="ibox-tools">
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                    <a class="dropdown-toggle" data-toggle="dropdown" href="graph_flot.html#">
                        <i class="fa fa-wrench"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-user">
                        <li><a href="graph_flot.html#">选项1</a>
                        </li>
                        <li><a href="graph_flot.html#">选项2</a>
                        </li>
                    </ul>
                    <a class="close-link">
                        <i class="fa fa-times"></i>
                    </a>
                </div>
            </div>
            <div class="ibox-content">
                <div style="height:430px" id="main1"></div>
            </div>
        </div>
    </div>
    {##}
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">各类型话题——情感分析</div>
                <div class="panel-body">
                    <div class="panel-heading">
                        <div class="panel-options">
                            <ul class="nav nav-tabs">
                                <li><a data-toggle="tab" href="trace.html#tab-11">热门综艺</a>
                                </li>
                                <li class=""><a data-toggle="tab" href="trace.html#tab-12">明星八卦</a>
                                </li>
                                <li class=""><a data-toggle="tab" href="trace.html#tab-13">社会热点</a>
                                </li>
                                <li class=""><a data-toggle="tab" href="trace.html#tab-14">体育赛事</a>
                                </li>
                                <li class=""><a data-toggle="tab" href="trace.html#tab-15">美食旅游</a>
                                </li>

                            </ul>
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="tab-content">
                            <div id="tab-11" class="tab-pane active">
                                <table class="table table-striped table-bordered table-hover dataTables-example">
                                    <thead>
                                    <tr>
                                        <th style="width:1197px">作者及评论信息</th>
                                        <th style="width:120px">情感分析</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for obj in data_list_1 %}
                                        <tr>
                                        <td style="font-size:25px;">
                                            {{ obj.author }}
                                            <br><a
                                                style="font-size:25px;color:#808080;text-decoration:none;">{{ obj.content }}</a><br>
                                            <span style="font-size:17px">&nbsp&nbsp&nbsp&nbsp&nbsp转发:
                                            <a style="text-decoration:none;">&nbsp{{ obj.share_num }}</a>&nbsp&nbsp&nbsp评论:
                                            <a style="text-decoration:none;">&nbsp{{ obj.pingllun_num }}</a>&nbsp&nbsp&nbsp点赞:
                                            <a style="text-decoration:none;">&nbsp{{ obj.dianzan_num }}</a>&nbsp&nbsp&nbsp发帖时间:
                                            <a style="text-decoration:none;">&nbsp{{ obj.time }}</a></span>
                                        </td>
                                        <td style="width: 10%">
                                            <a href="{{ obj.href }}">查看原文>>><br><br><a
                                                    style="font-size:30px;color:#2E8B57;text-decoration:none;">{{ obj.key_s }}</a></a>
                                        </td>
                                    {% endfor %}
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div id="tab-12" class="tab-pane">
                                <table class="table table-striped table-bordered table-hover dataTables-example">
                                    <thead>
                                    <tr>
                                        <th style="width:1200px">作者及评论信息</th>
                                        <th style="width:120px">情感分析</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for obj in data_list_2 %}
                                        <tr>
                                        <td style="font-size:25px;">
                                            {{ obj.author }}
                                            <br>
                                            <a style="font-size:25px;color:#808080;text-decoration:none;">{{ obj.content }}</a>
                                            <br>
                                            <span style="font-size:17px">&nbsp&nbsp&nbsp&nbsp&nbsp转发:
                                            <a style="text-decoration:none;">&nbsp{{ obj.share_num }}</a>&nbsp&nbsp&nbsp评论:
                                            <a style="text-decoration:none;">&nbsp{{ obj.pingllun_num }}</a>&nbsp&nbsp&nbsp点赞:
                                            <a style="text-decoration:none;">&nbsp{{ obj.dianzan_num }}
                                            </a>&nbsp&nbsp&nbsp发帖时间:
                                            <a style="text-decoration:none;">&nbsp{{ obj.time }}</a></span>
                                        </td>
                                        <td>
                                            <a href="{{ obj.href }}">查看原文>>><br><br><a
                                                    style="font-size:30px;color:#2E8B57;text-decoration:none;">{{ obj.key_s }}</a></a>
                                        </td>
                                    {% endfor %}
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div id="tab-13" class="tab-pane">
                                <table class="table table-striped table-bordered table-hover dataTables-example">
                                    <thead>
                                    <tr>
                                        <th style="width: 1200px">作者及评论信息</th>
                                        <th style="width:120px">情感分析</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for obj in data_list_3 %}
                                        <tr>
                                        <td style="font-size:25px;">
                                            {{ obj.author }}
                                            <br>
                                            <a style="font-size:25px;color:#808080;text-decoration:none;">{{ obj.content }}</a>
                                            <br>
                                            <span style="font-size:17px">&nbsp&nbsp&nbsp&nbsp&nbsp转发:
                                            <a style="text-decoration:none;">&nbsp{{ obj.share_num }}</a>&nbsp&nbsp&nbsp评论:
                                            <a style="text-decoration:none;">&nbsp{{ obj.pingllun_num }}</a>&nbsp&nbsp&nbsp点赞:
                                            <a style="text-decoration:none;">&nbsp{{ obj.dianzan_num }}</a>&nbsp&nbsp&nbsp发帖时间:
                                            <a style="text-decoration:none;">&nbsp{{ obj.time }}</a></span>
                                        <td>
                                            <a href="{{ obj.href }}">查看原文>>><br><br><a
                                                    style="font-size:30px;color:#2E8B57;text-decoration:none;">{{ obj.key_s }}</a></a>
                                        </td>
                                    {% endfor %}
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div id="tab-14" class="tab-pane">
                                <table class="table table-striped table-bordered table-hover dataTables-example">
                                    <thead>
                                    <tr>
                                        <th style="width:1200px">作者及评论信息</th>
                                        <th style="width:120px">情感分析</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for obj in data_list_4 %}
                                        <tr>
                                        <td style="font-size:25px;">
                                            {{ obj.author }}
                                            <br>
                                            <a style="font-size:25px;color:#808080;text-decoration:none;">{{ obj.content }}</a>
                                            <br>
                                            <span style="font-size:17px">&nbsp&nbsp&nbsp&nbsp&nbsp转发:
                                            <a style="text-decoration:none;">&nbsp{{ obj.share_num }}</a>&nbsp&nbsp&nbsp评论:
                                            <a style="text-decoration:none;">&nbsp{{ obj.pingllun_num }}</a>&nbsp&nbsp&nbsp点赞:
                                            <a style="text-decoration:none;">&nbsp{{ obj.dianzan_num }}
                                            </a>&nbsp&nbsp&nbsp发帖时间:
                                            <a style="text-decoration:none;">&nbsp{{ obj.time }}</a></span>
                                        </td>
                                        <td>
                                            <a href="{{ obj.href }}">查看原文>>><br><br><a
                                                    style="font-size:30px;color:#2E8B57;text-decoration:none;">{{ obj.key_s }}</a></a>
                                        </td>
                                    {% endfor %}
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div id="tab-15" class="tab-pane">
                                <table class="table table-striped table-bordered table-hover dataTables-example">
                                    <thead>
                                    <tr>
                                        <th style="width:1200px">作者及评论信息</th>
                                        <th style="width:120px">情感分析</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for obj in data_list_5 %}
                                        <tr>
                                        <td style="font-size:25px;">
                                            {{ obj.author }}
                                            <br>
                                            <a style="font-size:25px;color:#808080;text-decoration:none;">{{ obj.content }}</a>
                                            <br>
                                            <span style="font-size:17px">&nbsp&nbsp&nbsp&nbsp&nbsp转发:
                                            <a style="text-decoration:none;">&nbsp{{ obj.share_num }}</a>&nbsp&nbsp&nbsp评论:
                                            <a style="text-decoration:none;">&nbsp{{ obj.pingllun_num }}</a>&nbsp&nbsp&nbsp点赞:
                                            <a style="text-decoration:none;">&nbsp{{ obj.dianzan_num }}
                                            </a>&nbsp&nbsp&nbsp发帖时间:
                                            <a style="text-decoration:none;">&nbsp{{ obj.time }}</a></span>
                                        </td>
                                        <td>
                                            <a href="{{ obj.href }}">查看原文>>><br><br><a
                                                    style="font-size:30px;color:#2E8B57;text-decoration:none;">{{ obj.key_s }}</a></a>
                                        </td>
                                    {% endfor %}
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12"></div>
        <div class="footer">
            <div>
                <strong>面向微博超话的情感检测系统</strong>
                <!--——————————————————————    最底下的那一行字——————————————————————————    -->
            </div>
        </div>
    </div>
{% endblock %}


{% block js %}

    <script src="{% static '/js/echarts-wordcloud.js' %}"></script>
    <!-- Mainly scripts -->
    <script src="../static/js/jquery-2.1.1.min.js"></script>
    <script src="../static/js/bootstrap.min.js?v=3.4.0"></script>
    <script src="../static/js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="../static/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

    <script src="../static/js/plugins/jeditable/jquery.jeditable.js"></script>

    <!-- Data Tables -->
    <script src="../static/js/plugins/dataTables/jquery.dataTables.js"></script>
    <script src="../static/js/plugins/dataTables/dataTables.bootstrap.js"></script>

    <!-- Custom and plugin javascript -->
    <script src="../static/js/hplus.js?v=2.2.0"></script>
    <script src="../static/js/plugins/pace/pace.min.js"></script>


    <script>
        $(document).ready(function () {
            $('.dataTables-example').dataTable();

            /* Init DataTables */
            var oTable = $('#editable').dataTable();

            /* Apply the jEditable handlers to the table */
            oTable.$('td').editable('../example_ajax.php', {
                "callback": function (sValue, y) {
                    var aPos = oTable.fnGetPosition(this);
                    oTable.fnUpdate(sValue, aPos[0], aPos[1]);
                },
                "submitdata": function (value, settings) {
                    return {
                        "row_id": this.parentNode.getAttribute('id'),
                        "column": oTable.fnGetPosition(this)[2]
                    };
                },

                "width": "90%",
                "height": "100%"
            });


        });

        function fnClickAddRow() {
            $('#editable').dataTable().fnAddData([
                "Custom row",
                "New row",
                "New row",
                "New row",
                "New row"]);

        }
    </script>
    <script>
        $(document).ready(function () {
            <!-- Enable portlets -->
            WinMove();
        });
    </script>
    <script>
        $(document).ready(function () {
            $('.chart').easyPieChart({
                barColor: '#f8ac59',
                //                scaleColor: false,
                scaleLength: 5,
                lineWidth: 4,
                size: 80
            });

            $('.chart2').easyPieChart({
                barColor: '#1c84c6',
                //                scaleColor: false,
                scaleLength: 5,
                lineWidth: 4,
                size: 80
            });

            var d1 = [
                [1262304000000, 1],
                [1264982400000, 100],
                [1267401600000, 1],
                [1270080000000, 200],
                [1272672000000, 1],
                [1275350400000, 100],
                [1277942400000, 1],
                [1280620800000, 300]
            ];
            var d2 = [
                [1262304000000, 100],
                [1264982400000, 1],
                [1267401600000, 150],
                [1270080000000, 1],
                [1272672000000, 230],
                [1275350400000, 1],
                [1277942400000, 150],
                [1280620800000, 10]
            ];

            var data3 = [
                {
                    label: "Data 1",
                    data: d1,
                    color: '#23c6c8'
                },
                {
                    label: "Data 2",
                    data: d2,
                    color: '#1ab394'
                }
            ];
            $.plot($("#flot-chart3"), data3, {
                xaxis: {
                    tickDecimals: 0
                },
                series: {
                    lines: {
                        show: true,
                        fill: true,
                        fillColor: {
                            colors: [{
                                opacity: 1
                            }, {
                                opacity: 1
                            }]
                        },
                    },
                    curvedLines: {
                        active: true,
                        fit: true,
                        apply: true
                    },
                    points: {
                        width: 0.1,
                        show: false
                    },
                },
                grid: {
                    show: false,
                    borderWidth: 0
                },
                legend: {
                    show: false,
                }
            });


            var mapData = {
                "US": 298,
                "SA": 200,
                "DE": 220,
                "FR": 540,
                "CN": 120,
                "AU": 760,
                "BR": 550,
                "IN": 200,
                "GB": 120,
            };

            $('#world-map').vectorMap({
                map: 'world_mill_en',
                backgroundColor: "transparent",
                regionStyle: {
                    initial: {
                        fill: '#e4e4e4',
                        "fill-opacity": 0.9,
                        stroke: 'none',
                        "stroke-width": 0,
                        "stroke-opacity": 0
                    }
                },

                series: {
                    regions: [{
                        values: mapData,
                        scale: ["#1ab394", "#22d6b1"],
                        normalizeFunction: 'polynomial'
                    }]
                },
            });
        });

        var chartDom = document.getElementById('main1');
        var myChart = echarts.init(chartDom);
        var option;

        option = {
            title: {
                text: '各分类话题热度',
                subtext: ''
            },
            xAxis: {
                type: 'category',
                data: ['热门综艺', '明星八卦', '社会热点', '体育赛事', '美食旅游']
            },
            yAxis: {
                type: 'value'
            },
            series: [
                {
                    color: '#F08080',
                    data: [1244000, 1824000, 1500000, 1754000, 856300],
                    type: 'bar'
                }
            ]
        };

        option && myChart.setOption(option);

    </script>


{% endblock %}
